import{u as p,p as m}from"./updateCartValue-Bfay-Nx0.js";const y=()=>{let r=localStorage.getItem("cartProductLS");return r?(r=JSON.parse(r),p(r),r):[]};y();const S=(r,c,d)=>{let a=y();const n=document.querySelector(`#card${c}`);console.log(n);let t=n.querySelector(".productQuantity").innerText,o=n.querySelector(".productPrice").innerText;o=o.replace("₹","");let l=a.find(u=>u.id===c);if(l&&t>1){t=Number(l.quantity)+Number(t),o=Number(o*t);let u={id:c,quantity:t,price:o};u=a.map(e=>e.id===c?u:e),localStorage.setItem("cartProductLS",JSON.stringify(u))}if(l)return!1;o=Number(o*t),t=Number(t);let i={id:c,quantity:t,price:o};a.push({id:c,quantity:t,price:o}),console.log(i),localStorage.setItem("cartProductLS",JSON.stringify(a)),p(a)},g=(r,c,d)=>{const n=document.querySelector(`#card${c}`).querySelector(".productQuantity");let t=parseInt(n.getAttribute("data-quantity"))||1;return r.target.className==="cartIncrement"&&(t<d?t+=1:t===d&&(t=d)),r.target.className==="cartDecrement"&&t>1&&(t-=1),n.innerText=t,console.log(t),n.setAttribute("data-quantity",t.toString()),t},q=document.querySelector("#productContainer"),f=document.querySelector("#productTemplate"),C=r=>{if(!r)return!1;r.forEach(c=>{const{brand:d,category:a,description:n,id:t,image:o,name:l,price:i,stock:u}=c,e=document.importNode(f.content,!0);e.querySelector("#cardValue").setAttribute("id",`card${t}`),e.querySelector(".category").textContent=a,e.querySelector(".productName").textContent=l,e.querySelector(".productImage").src=o,e.querySelector(".productImage").alt=l,e.querySelector(".productStock").textContent=u,e.querySelector(".productDescription").textContent=n,e.querySelector(".productPrice").textContent=`₹${i}`,e.querySelector(".productActualPrice").textContent=`₹${Math.floor(i*3).toFixed(2)}`,e.querySelector(".stockElement").addEventListener("click",s=>{g(s,t,u)}),e.querySelector(".add-to-cart-button").addEventListener("click",s=>{S(s,t)}),q.append(e)})};console.log(m);C(m);
